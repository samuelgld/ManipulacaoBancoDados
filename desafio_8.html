<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Desafio_8</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="247374_desafio_8_files/libs/clipboard/clipboard.min.js"></script>
<script src="247374_desafio_8_files/libs/quarto-html/quarto.js"></script>
<script src="247374_desafio_8_files/libs/quarto-html/popper.min.js"></script>
<script src="247374_desafio_8_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="247374_desafio_8_files/libs/quarto-html/anchor.min.js"></script>
<link href="247374_desafio_8_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="247374_desafio_8_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="247374_desafio_8_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="247374_desafio_8_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="247374_desafio_8_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Desafio_8</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="baixe-o-arquivo-uwmadison.sqlite3.-conecte-se-a-ele-usando-o-pacote-rsqlite-armazenando-a-conexão-em-uma-variável-conn." class="level1">
<h1>1 - Baixe o arquivo “uwmadison.sqlite3”. Conecte-se a ele usando o pacote RSQLite, armazenando a conexão em uma variável conn.</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>conn <span class="ot">&lt;-</span> RSQLite<span class="sc">::</span><span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="at">dbname =</span> <span class="st">"uwmadison.sqlite3"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, <span class="st">"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  name
1     course_offerings
2              courses
3  grade_distributions
4          instructors
5                rooms
6            schedules
7             sections
8  subject_memberships
9             subjects
10           teachings</code></pre>
</div>
</div>
</section>
<section id="quem-são-e-quantos-são-os-professores-que-lecionaram-disciplinas-cujo-tópico-era-estatística-subjects.abbreviationstat" class="level1">
<h1>2 - Quem são e quantos são os professores que lecionaram disciplinas cujo tópico era estatística (subjects.abbreviation=‘STAT’);</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Para Reutilizar a parte dos joins que é semelhante, podemos quebrar as buscas em duas partes</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Quantos professores lecionaram "STAT"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>count_query <span class="ot">&lt;-</span> <span class="st">"SELECT COUNT(DISTINCT ins.id) AS instructors_count"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Quais professores lecionaram stat</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>select_query <span class="ot">&lt;-</span> <span class="st">"SELECT DISTINCT ins.id AS instructor_id, ins.name"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#resto da busca</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>join_query <span class="ot">&lt;-</span><span class="st">"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">FROM instructors ins</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN teachings t ON ins.id = t.instructor_id</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN sections sec ON t.section_uuid = sec.uuid</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN subject_memberships sm ON sec.course_offering_uuid = sm.course_offering_uuid</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN subjects s ON sm.subject_code = s.code</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="st">WHERE s.abbreviation = 'STAT'</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY ins.name;"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="quais-professores-lecionaram-disciplinas-de-estatística" class="level3">
<h3 class="anchored" data-anchor-id="quais-professores-lecionaram-disciplinas-de-estatística">Quais Professores Lecionaram disciplinas de Estatística</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(select_query, join_query)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>lista_professores_stat <span class="ot">&lt;-</span> RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>lista_professores_stat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    instructor_id                          name
1         4787911               ABIGAIL BENZINE
2         3111842          ADIN-CRISTIAN ANDREI
3         3775809                AKICHIKA OZEKI
4         4958796                    ALAN HUANG
5         5451706               ALBERTO DEL PIA
6         3661782                ALBRECHT KLEMM
7         5656034           ALEXANDER COVINGTON
8         4680082                ALEXANDER FISH
9         3573775             ALEXANDER KISELEV
10        5162339                ALYSSA DIGILIO
11         129415                  ANATOLE BECK
12        3674168                 ANDREJ ZLATOS
13        5003565                 ANDREW LESLIE
14        4952769                 ANNE BRUCKNER
15        5498092                      ANQI SHI
16        4646729                    ANRU ZHANG
17        2600893                 ARNOLD MILLER
18        4963378                 AUGUST JENSEN
19        5852265                BEHZAD AALIPUR
20        5694563     BEHZAD AALIPUR HAFSHEJANI
21        4140469              BEN ADAM HAALAND
22        4538519                 BENEDEK VALKO
23        4632211                BENJAMIN RECHT
24        5906523                   BI CHENG WU
25        4155990                       BIN DAI
26        5186047                     BIN ZHANG
27        4436066                       BIN ZHU
28        5144884                  BINGYING XIE
29        3484236                      BO HUANG
30        5632570                       BO YANG
31        5690247                      BOWEN HU
32        4753018                   BRET HANLON
33         751075                   BRET LARGET
34        2602055                 BRIAN YANDELL
35        5011312                   BROOK LUERS
36        3955546                    CECILE ANE
37        5883206                     CHAN PARK
38        3976099                   CHANHAN HSU
39        4724058                   CHAOQUN MEI
40        4712098                   CHAOYANG YU
41        3376532                 CHELSEY GREEN
42        4586558                    CHEN CHENG
43        5018463                     CHEN JING
44        5592111               CHENGNING ZHANG
45        4597046                  CHENLIANG XU
46        4903489               CHENSHENG KUANG
47        3973813                     CHENXI LI
48        3629214                CHIA-CHIEH LIN
49        3613299                CHIEN-WEI CHEN
50         340544      CHRISTINA M. KENDZIORSKI
51         138086            CHRISTINE SORKNESS
52        3855025            CHRISTOPHER WAGNER
53        5887049                  CLAIRE BOBST
54        4721578           CLAUDIA SOLIS LEMUS
55        4312759                     COLE COOK
56        5332940               COLIN LONGHURST
57        5498648                  CRYSTAL CHEN
58        5015194                     CUICUI QI
59        5176022                     CUIZE HAN
60        5846795           DANIELE CAPPELLETTI
61        4308515                DAVID ANDERSON
62        2601596                  DAVID DEMETS
63        2602109               DAVID GRIFFEATH
64        6043299                    DEBRAJ DAS
65        4264265                    DEREK BEAN
66        5305675                  DEREK NORTON
67        3773167                  DEYUAN JIANG
68        2600233           DIETRICH UHLENBROCK
69         393380                 DONALD PORTER
70        4898014                      DONG XIA
71        4897725                   DONGGYU KIM
72        5620719                  DONGHYUN LEE
73        2602050              DOUGLAS M. BATES
74        4728844                    DUY NGUYEN
75        5516726                    DUZHE WANG
76        5189535                  EDWARD ERKER
77        2824494               ELOISA D CHAVAS
78        3566378             ERICA LEE DEADMAN
79        2602042                 ERIK NORDHEIM
80        5204089                       FAN GAO
81        4437355                      FAN YANG
82        3460189                     FANG FANG
83        3783301                 FANGFANG WANG
84        4601948              FLORIAN BERTRAND
85         361804               FREDERICK BOEHM
86        5214164              GARVESH RASKUTTI
87         495087         GARY HOWARD SCHROEDER
88        4957688                       GENG LI
89        5017655                GINA BENNINGER
90        5862942                       GINA OH
91        5320625              GONZALO CONTADOR
92        2600488                   GRACE WAHBA
93        4761200        GREGORIO MORENO-FLORES
94        5127444              GREGORY SHINAULT
95        4272783                  GUANHUA CHEN
96        4436002                   GUANNAN SUN
97        1505756                GUILHERME ROSA
98        4886028 GUILHERME VIEIRA NUNES LUDWIG
99        4884161                GUN WOONG PARK
100       5010171                      HAN CHEN
101       5514514                      HAO CHEN
102       5520701                      HAO TENG
103       4435790                     HAO ZHENG
104       5323690                      HAO ZHOU
105       3456935                      HAODA FU
106       4725072                   HAOYANG FAN
107       4149843         HEATHER MARIE BRAZEAU
108       3623432                  HUAIBAO FENG
109       3483534                      HUI WANG
110       5168069                  HUIKUN ZHANG
111       5167990                     HUILIN HU
112       5321537                   HYEBIN SONG
113       4734607                HYUNSEUNG KANG
114        801445            IAN BRANSTAD RILEY
115        143932                 ISMOR FISCHER
116       5515948                JAMES ANDERSON
117       2601633                JAMES D KUELBS
118       4636315                   JARED BROWN
119       3011936                  JASON P FINE
120       3956063         JASON RICHARD SWANSON
121       4140397                  JEE YEON KIM
122       4890283                     JEEA CHOI
123       4636145             JENNIFER BIRSTLER
124       4613728               JENNIFER NGUYEN
125       3627934           JESSE THOMAS HOLZER
126       4590715                   JIAJIE CHEN
127       4433317                      JIALE XU
128       4603165                       JIAN WU
129       4886987                  JIANCHANG HU
130       5410648                      JIE SONG
131       4292460                       JIE WEI
132       4436368                     JIE ZHANG
133       4734274                     JILI WANG
134       3783649                   JINGCI MENG
135       3973318                JINGJIANG PENG
136       4902482                    JINGLAN LI
137       4286103                    JIWEI ZHAO
138       4880968                    JOHN DAVIS
139        608997                  JOHN GILLETT
140       3806328                     JOHN KANE
141       4896511         JOHN WILTSHIRE-GORDON
142       1634418             JONATHON PETERSON
143       1126199                 JOSEP GINEBRA
144       4610245                JOSEPH DEUTSCH
145       4731731                    JU HEE CHO
146       3981051                        JUN LI
147       1079018                      JUN SHAO
148       3620114                       JUN YIN
149       3781764                     JUN ZHANG
150        321374                       JUN ZHU
151       3095399                   JUNGWON MUN
152       3620552                    JUNHEE HAN
153       4541633                     JUNHO LEE
154       5012817                   KAILEI CHEN
155       2602032                  KAM-WAH TSUI
156       4541610                   KARL BROMAN
157       4929500                     KARL ROHE
158       4491860               KATHERINE GOODE
159       3777992               KAZUHIKO SHINKI
160       4261114              KEEGAN KORTHAUER
161       3127329                       KEN ONO
162       3978606            KEVIN HASEGAWA ENG
163       4744350                 KEVIN PACKARD
164       3404299                  KJELL DOKSUM
165       5476019  KRISHNAKUMAR BALASUBRAMANIAN
166       4199106                KRISTEN CYFFKA
167       5697552                 KUNLING HUANG
168       5317373                   KYLE HEBERT
169       5478075                   KYLE HERBET
170        207204                 KYUNGMANN KIM
171       4435446                        LAM HO
172       5521838                       LAN LUO
173       3103459                LANCINE KONATE
174       3443667                        LEI XU
175       3437432                   LEV BORISOV
176       4845798                 LIAM JOHNSTON
177       4277002                     LIE XIONG
178       3980675                      LILI LAN
179       5693114                    LILI ZHENG
180       4578330                      LILUN DU
181       5514932                        LIN QI
182       5015113                     LONG PHAN
183       4726678                        LU MAO
184       5010560                       LU YANG
185       5017774                   LUWAN ZHANG
186       5192960                      LUXI CAO
187       5302154            MANJUSHA KANCHARLA
188       2601674                    MARI PALTA
189       4195000              MARIA KAMENETSKY
190       5167906                    MARIA ROJO
191        245914               MARIAN R FISHER
192        333334                MARY LINDSTROM
193       3467530               MATTHEW BALLARD
194       4280220                     MENG SONG
195       1114818                MICHAEL FERRIS
196        783769          MICHAEL GEORGE ILTIS
197        270258                 MICHAEL HOGAN
198       5708167               MICHAEL KUTZLER
199       5840930                  MICHAEL LIOU
200       2601916                MICHAEL NEWTON
201        989414          MICHAEL RENE KOSOROK
202        394810               MICHELLE HARRIS
203       6029366                 MIHAELA IFRIM
204       3575433                  MIN JUNG LEE
205       3965653                       MIN NIU
206       4133622                      MING XIE
207       3077702                     MING YUAN
208       4392906                   MINJING TAO
209       4947463              MITCHELL PAUKNER
210       3404298                   MOO K CHUNG
211       5514561                    MUHONG GAO
212       2601621                MURRAY CLAYTON
213       1505727         NATALIA DE LEON GATTI
214        232828               NELLIE LAUGHLIN
215       3523865            NICHOLAS HENDERSON
216        640407       NICHOLAS STEPHEN KEULER
217       5523214                      NING FAN
218       3882760            NORBERT BINKIEWICZ
219       2600689                 NORMAN DRAPER
220       2601093            PAUL M TERWILLIGER
221        967335                  PAUL RATHOUZ
222       5631398              PAUL SAVARIAPPAN
223       5326263                   PEIGEN ZHOU
224       4149787                   PERLA REYES
225       1515839                   PHILIP WOOD
226       4633355                      QI JIANG
227       3974100                       QI TANG
228       3338237                 QIAN ZHIGUANG
229       5718599                       QING LI
230       4460098                   QIONG ZHANG
231       4582107                   QIURONG CUI
232       4432994                    QUEFENG LI
233       4161984                     QUOC TRAN
234        789363                REBECCA KOSCIK
235       5488796                  REBECCA POST
236       2600141             RICHARD A BRUALDI
237       2601613            RICHARD A. JOHNSON
238       2601926           RICHARD J. CHAPPELL
239       4957895                 ROBERT HARRON
240       2601512                ROBERT R MEYER
241       2601091                ROBERT WARDROP
242       3780010            ROBERT WAYNE GREEN
243        893827                RONALD GANGNON
244       5887858                   RONGJUN ZHU
245       5690182                      RUI CHEN
246       4128750                      RUI TANG
247       3987897                  RUIFANG SONG
248       3343055                    RUIFENG XU
249       5898424                   RUNGANG HAN
250       5020061                     RUOSI GUO
251       3727371                      RYAN ZEA
252       4752238              SAMUEL STECHMANN
253       3981781                  SANGBUM CHOI
254       5354849                 SCOTT HOTTOVY
255       3253489           SCOTT JOSEPH HETZEL
256       5068296                     SEAN KENT
257       5110390                SEBASTIEN ROCH
258       4733192                     SEHO PARK
259       5520811                   SEULKEE YUN
260       3573852                 SEUNGBONG HAN
261       5905014                       SHAN LU
262        982957                  SHANE HUBLER
263       5515201                      SHANG WU
264       4146030                    SHENG WANG
265       5906594                    SHENG WANG
266       4285558                   SHENG ZHANG
267       5017571                   SHENGJI JIA
268       3127330                       SHI JIN
269       4885477                    SHIXUE LIU
270       4598772                  SHIZHEN WANG
271       4699427                    SHUAI CHEN
272       4271924                  SHUANG HUANG
273       5170885                   SHULEI WANG
274       4588354                     SHUYUN YE
275       3622809                   SIJIAN WANG
276       5323628                     SIJING LI
277       5176905                SOHEIL SADEGHI
278       4593965                    SOKOL VAKO
279       3955531                SONA Z SWANSON
280       4953246                     SONG WANG
281       3884290  SRIKANTHMADHAVAN ARAVAMUTHAN
282       2600973                 STEFFEN LEMPP
283       3122658        STEPHEN AARON STANHOPE
284       4538540                  STEPHEN BERG
285       2601051               STEPHEN WAINGER
286       3382451                STEPHEN WRIGHT
287       5452538                    STEVEN SAM
288       3117835             SUKHENDU MEHROTRA
289       3801422                  SUNDUZ KELES
290       4590738                     TAERI UHM
291       3781422                        TAO YU
292       5023414       THEVAASIINEN CHANDERENG
293        417071                   THOMAS COOK
294       2601039               THOMAS G. KURTZ
295       4904255                        THU LE
296       4896939                       TIEN VO
297       3374880              TIMO SEPPALAINEN
298       4879129                 TIMOTHY IDOWU
299       4957916                 TIMOTHY IDOWU
300       5520995                       TING YE
301       3351080                   TING-LI LIN
302       5329574                       TONG LI
303       3230527                  TONGHAI YANG
304       4896172                       TRAM TA
305       5567363                    TUN LEE NG
306       5664494               TZU HSIANG HUNG
307       3959251               VARSHA KULKARNI
308       4641200                    VICTOR LUO
309       4788841            VICTORIA MANSFIELD
310       4434130                  WAI TONG FAN
311       3780817                     WEI ZHENG
312       2602108                   WEI-YIN LOH
313       4590481                  WENWEN ZHANG
314       5322094                    WENZHI CAO
315       5161294                  WESLEY CHANG
316       4591139                      XIAO GUO
317       4905505                      XIAO NIE
318       3343005                   XIAODAN WEI
319       5170801                    XIAOMAO LI
320       4729481                 XIAOPING FENG
321       5258581                    XIAOWU DAI
322       4285528                        XIN LI
323       4588103                     XIN ZHANG
324       4726666                     XINJIE HE
325       3620612                   XINWEI DENG
326       4286679                     XINXIN YU
327       4430246                    XINYU SONG
328       4145889                    XIPEI YANG
329       5170924                    XIRAN WANG
330       4194670                  XIUFENG SHAO
331       5322566                      XIUYU MA
332       3791802                      XIWEN MA
333       4286138                         XU HE
334       4590559                         XU XU
335       4726703                   XUEYAO CHEN
336       3668575                      XUN ZHAO
337       4426932                     YAJUAN SI
338       3800708                     YALI WANG
339       4721620                      YAN CHEN
340       3457484                 YANBING ZHENG
341       4285354                     YANG ZHAO
342       4172260                    YANNAN QIU
343       4895244                    YAOGUO XIE
344       4576059                     YAOYAO XU
345       4695492                   YAZHEN WANG
346       4285538                       YI CHAI
347       5327139                         YI LI
348       4586128                        YI LIU
349       5693277                     YIFAN MEI
350       5323691                   YILIN ZHANG
351       5170492                    YING ZHANG
352       5696436                   YONGFENG WU
353       5644228                  YONGJOON KIM
354       5518378                    YONGSU LEE
355       5514517                     YOUNG LEE
356       5177493                YOUNG MIN PARK
357       4278664               YOUNGDEOK HWANG
358       5326059                     YOURAN QI
359       3010828                   YU MENGGANG
360       3961448                    YU QIU LIU
361       3791787                    YUAN JIANG
362       5167973                       YUAN LI
363       4733966                     YUAN WANG
364       4906458                    YUANZHI LI
365       5903922                    YUCHANG WU
366       5700058                   YUCHEN ZHOU
367       4144479                   YUJIN CHUNG
368       5907599                    YUNONG LIN
369       5214858                     YUQING XU
370       1426304                ZHANG CHUNMING
371       4108525                ZHENGJUN ZHANG
372       3107260                  ZHENGXIAO WU
373       4588525                  ZHIGENG GENG
374       3339239                   ZHIGUO XIAO
375       5693629                   ZHONGJIE YU
376       3626007                     ZHUANG WU
377       5099221                   ZIFENG ZHAO
378       5591917                     ZIJIAN NI
379       4138542                 ZUOFENG SHANG</code></pre>
</div>
</div>
</section>
<section id="quais-professores-lecionaram-disciplinas-de-estatística-1" class="level3">
<h3 class="anchored" data-anchor-id="quais-professores-lecionaram-disciplinas-de-estatística-1">Quais Professores Lecionaram disciplinas de Estatística</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(count_query, join_query)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  instructors_count
1               379</code></pre>
</div>
</div>
</section>
</section>
<section id="o-gpa-americano-é-definido-numa-escala-de-0-a-4-em-que-a-4-ab-3.5-b-3-bc-2.5-c-2-d-1-e-f-0.-determinando-a-nota-média-de-cada-oferecimento-pela-ponderação-da-quantidade-de-alunos-em-cada-extrato-com-os-valores-numéricos-de-cada-conceito-indique-no-que-se-referente-a-disciplinas-no-assunto-de-estatística" class="level1">
<h1>3 - O GPA americano é definido numa escala de 0 a 4, em que A = 4, AB = 3.5, B = 3, BC = 2.5, C = 2, D = 1 e F = 0. Determinando a nota média de cada oferecimento pela ponderação da quantidade de alunos em cada extrato com os valores numéricos de cada conceito, indique (no que se referente a disciplinas no assunto de estatística):</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>segregar_gpas <span class="ot">&lt;-</span><span class="st">"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="st">WITH</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="st">gd AS (</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="st">    course_offering_uuid,</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(a_count,0))   AS a_count,</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(ab_count,0))  AS ab_count,</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(b_count,0))   AS b_count,</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(bc_count,0))  AS bc_count,</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(c_count,0))   AS c_count,</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(d_count,0))   AS d_count,</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(COALESCE(f_count,0))   AS f_count</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM grade_distributions</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY course_offering_uuid</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="st">),</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="st">offerings AS (</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="st">    co.uuid                        AS course_offering_uuid,</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="st">    co.course_uuid                 AS course_uuid,</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="st">    (gd.a_count + gd.ab_count + gd.b_count + gd.bc_count + gd.c_count + gd.d_count + gd.f_count) AS total_students,</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="st">    CASE</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="st">      WHEN (gd.a_count + gd.ab_count + gd.b_count + gd.bc_count + gd.c_count + gd.d_count + gd.f_count) &gt; 0</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="st">      THEN (</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="st">        4.0 * gd.a_count</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="st">        + 3.5 * gd.ab_count</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="st">        + 3.0 * gd.b_count</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="st">        + 2.5 * gd.bc_count</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="st">        + 2.0 * gd.c_count</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="st">        + 1.0 * gd.d_count</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="st">      ) / NULLIF(</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="st">        (gd.a_count + gd.ab_count + gd.b_count + gd.bc_count + gd.c_count + gd.d_count + gd.f_count),</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="st">        0</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="st">      )</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="st">      ELSE NULL</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="st">    END AS offering_gpa</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM course_offerings co</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN gd ON gd.course_offering_uuid = co.uuid</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN subject_memberships sm ON sm.course_offering_uuid = co.uuid</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN subjects s ON s.code = sm.subject_code</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="st">  WHERE s.abbreviation = 'STAT'</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="st">),</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="st">offering_instructor AS (</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT DISTINCT</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a><span class="st">    t.instructor_id,</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a><span class="st">    o.course_offering_uuid,</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="st">    o.offering_gpa</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM offerings o</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN sections sec ON sec.course_offering_uuid = o.course_offering_uuid</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN teachings t ON t.section_uuid = sec.uuid),</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a><span class="st">instructor_avg AS (</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="st">    ins.id           AS instructor_id,</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a><span class="st">    ins.name         AS instructor_name,</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a><span class="st">    AVG(oig.offering_gpa) AS avg_gpa,</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(*)         AS offerings_count</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM offering_instructor oig</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN instructors ins ON ins.id = oig.instructor_id</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY ins.id, ins.name</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a><span class="st">),</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a><span class="st">course_avg AS (</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a><span class="st">  SELECT</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a><span class="st">    c.uuid        AS course_uuid,</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a><span class="st">    c.name        AS course_name,</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a><span class="st">    AVG(o.offering_gpa) AS avg_gpa,</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(*)      AS offerings_count</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM offerings o</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN courses c ON c.uuid = o.course_uuid</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY c.uuid, c.name</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a><span class="st">)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># para encontrar o professor mais difícil selecionamos o menor gpa médio</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>prof_dificil <span class="ot">&lt;-</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="st">"SELECT</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT instructor_id FROM instructor_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_instructor_id,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT instructor_name FROM instructor_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_instructor_name,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT avg_gpa FROM instructor_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_instructor_gpa"</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(segregar_gpas, prof_dificil)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  hardest_instructor_id hardest_instructor_name hardest_instructor_gpa
1               2601633          JAMES D KUELBS               2.607692</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># para encontrar o professor mais facil selecionamos o maior gpa médio</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>prof_facil <span class="ot">&lt;-</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="st">"SELECT</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT instructor_id FROM instructor_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_instructor_id,</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT instructor_name FROM instructor_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_instructor_name,</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT avg_gpa FROM instructor_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_instructor_gpa"</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(segregar_gpas, prof_facil)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  easiest_instructor_id      easiest_instructor_name easiest_instructor_gpa
1               3884290 SRIKANTHMADHAVAN ARAVAMUTHAN                      4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># para encontrar a disciplina mais dificil selecionamos o menor gpa médio</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>disc_dificil <span class="ot">&lt;-</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">"SELECT</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT course_uuid FROM course_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_course_uuid,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT course_name FROM course_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_course_name,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT avg_gpa FROM course_avg ORDER BY avg_gpa ASC NULLS LAST LIMIT 1) AS hardest_course_gpa"</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(segregar_gpas, disc_dificil)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   hardest_course_uuid
1 3ef3ba60-426e-39ad-a61f-17d381b193d6
                        hardest_course_name hardest_course_gpa
1 Introduction to the Theory of Probability            2.87807</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># para encontrar a disciplina mais facil selecionamos o maior gpa médio</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>disc_facil <span class="ot">&lt;-</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="st">"SELECT</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT course_uuid FROM course_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_course_uuid,</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT course_name FROM course_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_course_name,</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="st">  (SELECT avg_gpa FROM course_avg ORDER BY avg_gpa DESC NULLS LAST LIMIT 1) AS easiest_course_gpa"</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>busca <span class="ot">&lt;-</span> <span class="fu">paste</span>(segregar_gpas, disc_facil)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbGetQuery</span>(conn, busca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   easiest_course_uuid
1 126a81bd-34e1-35f8-82f4-5edb70c3ae8b
                                    easiest_course_name easiest_course_gpa
1 Nonparametric Statistics and Machine Learning Methods                  4</code></pre>
</div>
</div>
</section>
<section id="desconecte-do-banco-de-dados." class="level1">
<h1>4 - Desconecte do banco de dados.</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>RSQLite<span class="sc">::</span><span class="fu">dbDisconnect</span>(conn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>
